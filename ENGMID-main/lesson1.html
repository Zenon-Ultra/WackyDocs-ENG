<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3ê³¼: Our Heritage, Our Treasure - ë¬¸ì¥ ìˆœì„œ ë°°ì—´ ì—°ìŠµ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .back-btn {
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .header {
            background: linear-gradient(45deg, #8B4513, #D2691E);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
        }

        .exercise-container {
            padding: 30px 20px;
        }

        .exercise-select select {
            padding: 12px 20px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            min-width: 300px;
            max-width: 100%;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .back-btn {
                left: 15px;
                padding: 8px 15px;
                font-size: 14px;
            }

            .header {
                padding: 25px 15px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .header p {
                font-size: 1em;
            }

            .exercise-container {
                padding: 20px 15px;
            }

            .exercise-select select {
                min-width: 250px;
                font-size: 14px;
                padding: 10px 15px;
            }

            .btn {
                padding: 10px 20px;
                font-size: 14px;
                margin: 5px;
            }

            .sentence-item {
                padding: 12px;
                font-size: 14px;
            }

            .drop-zone {
                padding: 15px;
                min-height: 60px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .back-btn {
                left: 10px;
                padding: 6px 12px;
                font-size: 12px;
            }

            .header {
                padding: 20px 10px;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .exercise-container {
                padding: 15px 10px;
            }

            .exercise-select select {
                min-width: 200px;
                font-size: 13px;
            }

            .btn {
                padding: 8px 15px;
                font-size: 13px;
            }

            .sentence-item {
                padding: 10px;
                font-size: 13px;
            }
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .exercise-info {
            background: #f8f9fa;
            border-left: 5px solid #8B4513;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
        }

        .exercise-select {
            margin-bottom: 30px;
            text-align: center;
        }

        .controls {
            text-align: center;
            margin: 20px 0;
        }

        .btn {
            background: linear-gradient(45deg, #8B4513, #D2691E);
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 69, 19, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 69, 19, 0.4);
        }

        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .exercise-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .exercise-area {
                grid-template-columns: 1fr;
            }
        }

        .scrambled-sentences, .ordered-sentences {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            min-height: 400px;
        }

        .scrambled-sentences h3, .ordered-sentences h3 {
            color: #8B4513;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid #8B4513;
            padding-bottom: 5px;
        }

        .sentence-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            position: relative;
            line-height: 1.5;
            font-family: 'Times New Roman', serif;
        }

        .sentence-item:hover {
            border-color: #8B4513;
            box-shadow: 0 4px 12px rgba(139, 69, 19, 0.2);
            transform: translateY(-2px);
        }

        .sentence-item:active {
            transform: scale(0.98);
        }

        .sentence-item.selected {
            border-color: #007bff;
            background-color: rgba(0, 123, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 123, 255, 0.3);
        }

        .drop-zone {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 5px 0;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            transition: all 0.3s ease;
            font-style: italic;
            cursor: pointer;
        }

        .drop-zone:hover {
            border-color: #8B4513;
            background-color: rgba(139, 69, 19, 0.1);
            color: #8B4513;
        }

        .drop-zone.highlight {
            border-color: #007bff;
            background-color: rgba(0, 123, 255, 0.1);
            color: #007bff;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(0, 123, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 123, 255, 0); }
        }

        .score-display {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }

        .feedback {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feedback.correct {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            opacity: 1;
        }

        .feedback.incorrect {
            background: linear-gradient(45deg, #dc3545, #fd7e14);
            color: white;
            opacity: 1;
        }

        .correct-sentence {
            border-color: #28a745 !important;
            background-color: rgba(40, 167, 69, 0.1);
        }

        .incorrect-sentence {
            border-color: #dc3545 !important;
            background-color: rgba(220, 53, 69, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="main.html" class="back-btn">â† ê³¼ ì„ íƒ</a>
            <h1>ğŸ›ï¸ 3ê³¼: Our Heritage, Our Treasure</h1>
            <p>Rescuing Cultural Treasures - ì˜ì–´ ë¬¸ì¥ë“¤ì„ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ë°°ì—´í•´ë³´ì„¸ìš”!</p>
        </div>

        <div class="exercise-container">
            <div class="exercise-info">
                <h3>ğŸ“š ì—°ìŠµ ë°©ë²•</h3>
                <p>1. ì•„ë˜ì—ì„œ ì—°ìŠµí•  ë¬¸ë‹¨ì„ ì„ íƒí•˜ì„¸ìš”<br>
                2. ì™¼ìª½ì˜ ë¬¸ì¥ì„ í´ë¦­í•´ì„œ ì„ íƒí•œ í›„, ì˜¤ë¥¸ìª½ì˜ ì›í•˜ëŠ” ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ì„¸ìš”<br>
                3. ì˜ëª» ë°°ì¹˜í•œ ë¬¸ì¥ì€ í´ë¦­í•´ì„œ ë‹¤ì‹œ ì™¼ìª½ìœ¼ë¡œ ëŒë ¤ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
                4. 'ì •ë‹µ í™•ì¸' ë²„íŠ¼ì„ ëˆŒëŸ¬ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
            </div>

            <div class="exercise-select">
                <select id="exerciseSelect">
                    <option value="">ì—°ìŠµí•  ë¬¸ë‹¨ì„ ì„ íƒí•˜ì„¸ìš”</option>
                    <option value="paragraph1">Paragraph 1: Rescuing Cultural Treasures (ë¬¸í™”ì¬ êµ¬ì¶œ) - 4ë¬¸ì¥</option>
                    <option value="paragraph2">Paragraph 2: From Preventing Destruction to Saving Treasures (íŒŒê´´ ë°©ì§€ì—ì„œ êµ¬ì¶œë¡œ) - 8ë¬¸ì¥</option>
                    <option value="paragraph3">Paragraph 3: Hitler's Destruction Order (íˆí‹€ëŸ¬ì˜ íŒŒê´´ ëª…ë ¹) - 3ë¬¸ì¥</option>
                    <option value="paragraph4">Paragraph 4: A Race against the Clock of Altaussee (ì•Œíƒ€ìš°ì œì˜ ì‹œê°„ê³¼ì˜ ì‹¸ì›€) - 9ë¬¸ì¥</option>
                    <option value="paragraph5">Paragraph 5: The Rescue Mission (êµ¬ì¶œ ì„ë¬´) - 9ë¬¸ì¥</option>
                    <option value="paragraph6">Paragraph 6: The Continuing Impact (ì§€ì†ì ì¸ ì˜í–¥) - 5ë¬¸ì¥</option>
                </select>
            </div>

            <div class="controls">
                <button class="btn" id="shuffleBtn" disabled>ë‹¤ì‹œ ì„ê¸°</button>
                <button class="btn" id="checkBtn" disabled>ì •ë‹µ í™•ì¸</button>
                <button class="btn" id="resetBtn" disabled>ì´ˆê¸°í™”</button>
            </div>

            <div class="score-display" id="scoreDisplay" style="display: none;">
                ì ìˆ˜: <span id="score">0</span>/100
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="exercise-area" id="exerciseArea" style="display: none;">
                <div class="scrambled-sentences">
                    <h3>ğŸ”€ Scrambled Sentences</h3>
                    <div id="scrambledContainer"></div>
                </div>

                <div class="ordered-sentences">
                    <h3>âœ… Correct Order</h3>
                    <div id="orderedContainer"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const exercises = {
            paragraph1: [
                "During World War II, there was a group of people who risked everything to protect priceless works of art from ruin.",
                "In 1943, around 345 people from 14 different Allied nations came together to form the Monuments, Fine Arts, and Archives (MFAA) program.",
                "They were not trained soldiers but scholars and experts of various kinds, such as professors, historians, and architects.",
                "These brave men and women volunteered to protect Europe's cultural heritage and became known as the \"Monuments Men.\""
            ],
            paragraph2: [
                "When the MFAA was first formed, its main goal was to prevent the destruction of cultural landmarks.",
                "The Monuments Men persuaded the Allied forces not to bomb areas with museums, churches, or other culturally significant buildings.",
                "They also visited areas that had already been destroyed to restore damaged architecture and works of art.",
                "It wasn't long before their role expanded.",
                "During the war, the Nazis had been stealing works of art and other cultural treasures from countries across Europe.",
                "They hid these treasures in places like castles, mines, and caves.",
                "When the Monuments Men learned about this, they started looking for the stolen treasures.",
                "Their search has since been called \"the greatest treasure hunt in history.\""
            ],
            paragraph3: [
                "When Germany began to lose the war, the stolen objects came under threat.",
                "Hitler ordered his forces to destroy everything that could be useful to the Allied armies before they retreated from an area.",
                "Some Nazi leaders believed that this included not just military and industrial equipment but everything of valueâ€”even the stolen works of art."
            ],
            paragraph4: [
                "One of the largest collections of stolen items was hidden in the salt mines of Altaussee, Austria.",
                "Upon discovering its location, some of the Monuments Men rushed to the mines.",
                "They hoped to recover everything before it was too late.",
                "Meanwhile, the Nazi leader who was in charge of the area tried to destroy everything by setting off large explosives inside the mines.",
                "This could have been disastrous.",
                "Luckily, some local miners found the explosives in the mines and came up with a plan to protect their livelihood.",
                "They secretly removed the large explosives and put smaller ones at the entrances.",
                "Once they went off, the Nazi leader believed that everything was destroyed.",
                "However, while the small explosions sealed off the entrances, they left the rest of the mines and the works of art unharmed."
            ],
            paragraph5: [
                "When the Monuments Men arrived and squeezed their way into the mines, they must have been amazed to see what was inside.",
                "There were thousands of priceless objects, including paintings, statues, books, furniture, and more.",
                "The Monuments Men thought it would take about one year to transport everything they found to a safe location.",
                "However, because control of the area was going to change at the end of the war, they would have access to the mines for just two months.",
                "With insufficient packing supplies and only a few trucks, the transporting mission seemed impossible.",
                "Not only that, but food was in short supply.",
                "Even without eating proper meals, they worked up to twenty hours a day.",
                "They used coats and gas masks as packing materials and did everything they could to accomplish this vital mission in time.",
                "In the end, the Monuments Men succeeded in rescuing thousands of stolen works of art, including important pieces such as Jan van Eyck's Adoration of the Mystic Lamb, Johannes Vermeer's The Astronomer, and Michelangelo's Madonna of Bruges."
            ],
            paragraph6: [
                "The efforts of the Monuments Men did not end with the war.",
                "For several years, they continued the work of recovering cultural treasures and identifying where they had been stolen from.",
                "In the end, the Monuments Men returned more than five million works of art and objects of cultural importance to their places of origin.",
                "Not everything that was stolen by the Nazis has been found, but what the Monuments Men accomplished is truly amazing.",
                "Without this determined group, the search for stolen works of art might never have begun.",
                "In addition, countless historical and cultural landmarks would have been lost forever due to the destruction of war.",
                "It is worth remembering the Monuments Menâ€™s contribution to the preservation of cultural heritage.",
                "Thanks to their efforts, many incredible cultural sites and works of art have survived and can still be appreciated to this day."
            ]

        };

        let currentExercise = [];
        let correctOrder = [];
        let userOrder = [];
        let selectedSentence = null;

        const exerciseSelect = document.getElementById('exerciseSelect');
        const shuffleBtn = document.getElementById('shuffleBtn');
        const checkBtn = document.getElementById('checkBtn');
        const resetBtn = document.getElementById('resetBtn');
        const exerciseArea = document.getElementById('exerciseArea');
        const scrambledContainer = document.getElementById('scrambledContainer');
        const orderedContainer = document.getElementById('orderedContainer');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const scoreElement = document.getElementById('score');
        const feedback = document.getElementById('feedback');

        exerciseSelect.addEventListener('change', function() {
            const selectedExercise = this.value;
            if (selectedExercise) {
                loadExercise(selectedExercise);
            }
        });

        shuffleBtn.addEventListener('click', shuffleSentences);
        checkBtn.addEventListener('click', checkAnswer);
        resetBtn.addEventListener('click', resetExercise);

        function loadExercise(exerciseKey) {
            currentExercise = [...exercises[exerciseKey]];
            correctOrder = [...currentExercise];
            userOrder = [];
            selectedSentence = null;

            shuffleSentences();
            exerciseArea.style.display = 'block';
            shuffleBtn.disabled = false;
            resetBtn.disabled = false;
            scoreDisplay.style.display = 'none';
            hideFeedback();
        }

        function shuffleSentences() {
            const shuffled = [...currentExercise];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }

            displayScrambledSentences(shuffled);
            createDropZones();
            checkBtn.disabled = true;
            userOrder = [];
            selectedSentence = null;
        }

        function displayScrambledSentences(sentences) {
            scrambledContainer.innerHTML = '';
            sentences.forEach((sentence, index) => {
                const sentenceDiv = document.createElement('div');
                sentenceDiv.className = 'sentence-item';
                sentenceDiv.textContent = sentence;
                sentenceDiv.dataset.sentence = sentence;

                sentenceDiv.addEventListener('click', function() {
                    selectSentence(this);
                });

                scrambledContainer.appendChild(sentenceDiv);
            });
        }

        function selectSentence(element) {
            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            element.classList.add('selected');
            selectedSentence = element;

            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.add('highlight');
            });

            showFeedback('ì„ íƒëœ ë¬¸ì¥ì„ ë°°ì¹˜í•  ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ì„¸ìš”!', 'correct');
        }

        function createDropZones() {
            orderedContainer.innerHTML = '';
            for (let i = 0; i < currentExercise.length; i++) {
                const dropZone = document.createElement('div');
                dropZone.className = 'drop-zone';
                dropZone.textContent = `ë¬¸ì¥ ${i + 1}ì„ ì—¬ê¸°ì— ë°°ì¹˜í•˜ì„¸ìš”`;
                dropZone.dataset.position = i;

                dropZone.addEventListener('click', function() {
                    handleDropZoneClick(this);
                });

                orderedContainer.appendChild(dropZone);
            }
        }

        function handleDropZoneClick(dropZone) {
            if (!selectedSentence) {
                showFeedback('ë¨¼ì € ì™¼ìª½ì—ì„œ ë¬¸ì¥ì„ ì„ íƒí•˜ì„¸ìš”!', 'incorrect');
                return;
            }

            const sentence = selectedSentence.dataset.sentence;
            const position = parseInt(dropZone.dataset.position);

            const sentenceDiv = document.createElement('div');
            sentenceDiv.className = 'sentence-item';
            sentenceDiv.textContent = sentence;
            sentenceDiv.dataset.sentence = sentence;
            sentenceDiv.dataset.position = position;

            sentenceDiv.addEventListener('click', function() {
                returnSentence(this);
            });

            dropZone.parentNode.replaceChild(sentenceDiv, dropZone);
            selectedSentence.remove();
            selectedSentence = null;

            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            updateUserOrder();
            hideFeedback();
        }

        function returnSentence(sentenceElement) {
            const position = parseInt(sentenceElement.dataset.position);
            const sentence = sentenceElement.dataset.sentence;

            const dropZone = document.createElement('div');
            dropZone.className = 'drop-zone';
            dropZone.textContent = `ë¬¸ì¥ ${position + 1}ì„ ì—¬ê¸°ì— ë°°ì¹˜í•˜ì„¸ìš”`;
            dropZone.dataset.position = position;

            dropZone.addEventListener('click', function() {
                handleDropZoneClick(this);
            });

            sentenceElement.parentNode.replaceChild(dropZone, sentenceElement);

            const newSentenceDiv = document.createElement('div');
            newSentenceDiv.className = 'sentence-item';
            newSentenceDiv.textContent = sentence;
            newSentenceDiv.dataset.sentence = sentence;

            newSentenceDiv.addEventListener('click', function() {
                selectSentence(this);
            });

            scrambledContainer.appendChild(newSentenceDiv);

            selectedSentence = null;
            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            updateUserOrder();
        }

        function updateUserOrder() {
            userOrder = [];
            const placedSentences = orderedContainer.querySelectorAll('.sentence-item');
            placedSentences.forEach(sentence => {
                const position = parseInt(sentence.dataset.position);
                userOrder[position] = sentence.dataset.sentence;
            });

            const hasEmptySlots = userOrder.includes(undefined) || userOrder.length !== currentExercise.length;
            checkBtn.disabled = hasEmptySlots;
        }

        function checkAnswer() {
            let correct = 0;
            const placedSentences = orderedContainer.querySelectorAll('.sentence-item');
            
            placedSentences.forEach((sentence, index) => {
                sentence.classList.remove('correct-sentence', 'incorrect-sentence');
                const position = parseInt(sentence.dataset.position);
                const userSentence = sentence.dataset.sentence;
                const correctSentence = correctOrder[position];
                
                if (userSentence === correctSentence) {
                    sentence.classList.add('correct-sentence');
                    correct++;
                } else {
                    sentence.classList.add('incorrect-sentence');
                }
            });

            const score = Math.round((correct / currentExercise.length) * 100);
            scoreElement.textContent = score;
            scoreDisplay.style.display = 'block';

            if (score === 100) {
                showFeedback('ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤! ëª¨ë“  ë¬¸ì¥ì„ ì˜¬ë°”ë¥´ê²Œ ë°°ì—´í–ˆìŠµë‹ˆë‹¤!', 'correct');
            } else if (score >= 70) {
                showFeedback(`ğŸ‘ ì˜í–ˆìŠµë‹ˆë‹¤! ${correct}/${currentExercise.length}ê°œ ì •ë‹µì…ë‹ˆë‹¤.`, 'correct');
            } else {
                showFeedback(`ğŸ’ª ë‹¤ì‹œ í•œë²ˆ ì‹œë„í•´ë³´ì„¸ìš”! ${correct}/${currentExercise.length}ê°œ ì •ë‹µì…ë‹ˆë‹¤.`, 'incorrect');
            }
        }

        function resetExercise() {
            const selectedExercise = exerciseSelect.value;
            if (selectedExercise) {
                loadExercise(selectedExercise);
            }
            hideFeedback();
        }

        function showFeedback(message, type) {
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
        }

        function hideFeedback() {
            feedback.className = 'feedback';
        }
    </script>
</body>
</html>